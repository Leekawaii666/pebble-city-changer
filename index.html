<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Pebble City Changer</title>
  <script type="text/javascript">
    function setCity() {
      // Get the city from the input
      var city = document.getElementById('cityInput').value;

      // Save the city to the Pebble settings
      Pebble.setString('city', city);
      
      // Display confirmation message
      document.getElementById('confirmation').innerHTML = 'City saved: ' + city;
    }

    // On page load, get the current saved city from settings and display it
    function loadCity() {
      var currentCity = Pebble.getString('city') || 'Moscow';  // Default to Moscow if not set
      document.getElementById('currentCity').innerHTML = 'Current City: ' + currentCity;
      document.getElementById('cityInput').value = currentCity;  // Pre-fill the input field
    }

    // Load city data when page is ready
    window.onload = loadCity;
  </script>
</head>
<body style="text-align:center; font-family: Arial, sans-serif;">
  <h1>Pebble City Changer</h1>

  <!-- Display the current city -->
  <p id="currentCity" style="font-size: 18px; margin-top: 20px;"></p>

  <!-- Input field for the user to type the city name -->
  <input type="text" id="cityInput" placeholder="Enter City" style="font-size: 16px; padding: 10px; margin-top: 20px; width: 80%;">

  <br><br>

  <!-- Button to save the city -->
  <button onclick="setCity()" style="font-size: 18px; padding: 10px 20px; cursor: pointer;">Save City</button>

  <br><br>

  <!-- Display the confirmation message -->
  <p id="confirmation" style="font-size: 16px; color: green;"></p>
</body>
</html>
